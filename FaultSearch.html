<!DOCTYPE html>
<html lang="en">
<head>
    <title>Search</title>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="stylesheet.css">
    <script src="functionality.js"></script>
</head>

<body>
    <!-- Side Bar Controls -->
    <div class="searchBar">
        <span><h2>Search</h2>                           <img src="resources/search.png" alt="Search Icon"></span><br><br>

        <form name="searchForm" id="searchForm" onsubmit="return false">
            <div class="formDiv"><label for="buildingInput" id="buildingInputLabel">Building: </label>   <input type="text" id="buildingInput" name="buildingInput" list="buildingList" onchange=roomSuggestion()></div><br id="buildingInputBreak">
            <div class="formDiv"><label for="roomInput" id="roomInputLabel">Room: </label>               <input type="text" id="roomInput" name="roomInput" list="roomList"></div><br id="roomInputBreak">
            <div class="formDiv"><label for="floorInput" id="floorInputLabel">Floor: </label>            <input type="text" id="floorInput" name="floorInput"></div><br id="floorInputBreak">
            <div class="formDiv"><label for="faultIdInput" id="faultIdInputLabel">Fault ID: </label>     <input type="text" id="faultIdInput" name="faultIdInput"></div><br id="faultIdInputBreak">
            <div class="formDiv"><label for="statusInput" id="statusInputLabel">Status: </label>         <input type="text" id="statusInput" name="statusInput" list="statusList"></div><br id="statusInputBreak">
            <div class="formDiv"><label for="typeInput" id="typeInputLabel">Type: </label>               <input type="text" id="typeInput" name="typeInput" list="typeList"></div><br id="typeInputBreak">
            <div class="formDiv"><label for="dateInput" id="dateInputLabel">Date: </label>               <input type="date" id="dateInput" name="dateInput"></div><br id="dateInputBreak">
            <br>
            <button id="searchButton">Search</button><button id="clearButton" onclick=clearSearchForm()>Clear</button>
        </form>
        <br><br>
        <button onclick="swapDisplay()">Swap view</button>
    </div>

    <!-- Main Window / Results Controls -->
    <div class="mainWindow">
        <table>
            <tr id="1listing" class="listing">
                <td><img src="resources/chairbroke.jpg" alt="broken chair"></td>
                <td>Fault ID: <p>354684</p><br>Building: <p>Julian Study Centre</p><br>Room: <p>3.02</p></td>
                <td>Fault Type: <p>Furniture</p><br>Date: <p>01/11/2022</p><br>Assigned To: <p id="1assigned">Kirsten Fickstings</p><br>Status: <p>Low Priority</p></td>
                <td class="buttonColumn">
                    <button onclick="editForm(1)" id="1editButton" class="popupButton">Edit Job</button><br>
                    <button onclick="assignForm(1)" id="1assignButton" class="popupButton">Assign Job</button><br>
                    <button onclick="updateForm(1)" id="1updateButton" class="popupButton">Update Job</button><br>
                    <button onclick="dropDown(1)" id="1dropDownButton" class="popupButton">DropDown</button><br>
                </td>
            </tr>
            <tr id="1dropDown" class="dropdown">
                <td>Details: <br>
                    <p>Chair needs two new wheels fitting, awaiting delivery.</p></td>
                <td>>Updates: <br>
                    <p id="1updates">02/11/2022: new wheels ordered. <br>
                    05/11/2022: wheels fitted.</p></td>
            </tr>

            <tr id="2listing" class="listing">
                <td><img src="resources/waterstain.jpg" alt="broken chair"></td>
                <td>Fault ID: <p>354689</p><br>Building: <p>Thomas Paine Study Centre</p><br>Room: <p>1.01</p></td>
                <td>Fault Type: <p>Plumbing</p><br>Date: <p>08/11/2022</p><br>Assigned To: <p id="2assigned">Kirsten Fickstings</p><br><p>Status: High Priority</p></td>
                <td class="buttonColumn">
                    <button onclick="editForm(2)" id="2editButton" class="popupButton">Edit Job</button><br>
                    <button onclick="assignForm(2)" id="2assignButton" class="popupButton">Assign Job</button><br>
                    <button onclick="updateForm(2)" id="2updateButton" class="popupButton">Update Job</button><br>
                    <button onclick="dropDown(2)" id="2dropDownButton" class="popupButton">DropDown</button><br>
                </td>
            </tr>
            <tr id="2dropDown" class="dropdown">
                <td>Details: <br>
                    <p>Leak in ceiling.</p></td>
                <td>Updates: <br>
                    <p id="2updates">10/11/2022: new pipe fixture needed, awaiting delivery.<br>
            </tr>
        </table>


<!--        POP UP FORMS    -->
        <div class="popup" id="assignPopup">
            <form class="popupForm" id="assignForm" onsubmit="return false">
                <p>Assign job!</p>
                <label for="assignField"></label><textarea type="text" placeholder="Enter name..." id="assignField" required></textarea>
                <br><br>
                <button onclick="assignJob()">Assign</button>
            </form>
        </div>
        <div class="popup" id="updatePopup">
            <form class="popupForm" id="updateForm" onsubmit="return false">
                <p>Update job!</p>
                <label for="updateField"></label><textarea type="text" placeholder="Enter update..." id="updateField" cols="5" required></textarea>
                <br><br>
                <button onclick="updateJob()">Update</button>
            </form>
        </div>
        <div class="faultForm" id="editPopup">
            <form class="form-container" id="editForm" onsubmit="return false">
                <p>Edit job!</p>
<!--                <label for="updateField"></label><textarea type="text" placeholder="Enter update..." id="updateField" cols="5" required></textarea>-->

<!--Index 0: image-->
<!--Index 1: fault id-->
<!--Index 2: building-->
<!--Index 3: room-->
<!--Index 4: type-->
<!--Index 5: date-->
<!--Index 6: assigned to-->
<!--Index 7: status-->
<!--Index 8: details-->
<!--Index 9: updates-->

                <label for="editFaultId"><b>Fault Id:</b></label>
                <input type="text" id="editFaultId" class="editInput">

                <label for="editBuilding"><b>Building:</b></label>
                <input type="text" id="editBuilding" list="buildingList" class="editInput">

                <label for="editRoom"><b>Room:</b></label>
                <input type="text" id="editRoom" class="editInput">

                <label for="editType"><b>Fault Type:</b></label>
                <input name="fault-type" id="editType" list="typeList" class="editInput">

                <label for="editDate"><b>Date:</b></label>
                <input type="date" id="editDate" class="editInput">

                <label for="editAssigned"><b>Assigned To:</b></label>
                <input type="text" id="editAssigned" class="editInput">

                <label for="editStatus"><b>Status:</b></label>
                <input type="text" id="editStatus" list="statusList" class="editInput">

                <label for="editDetails"><b>Details</b></label>
                <input type="text" id="editDetails" class="editInput">

                <label for="editUpdates"><b>Updates</b></label>
                <input type="text" id="editUpdates" class="editInput">

                <br><br>
                <button onclick="editJob()">Submit</button>
                <button type="button" class="btn cancel" onclick="closeForm()">Cancel</button>
            </form>
        </div>
    </div>






    <!--  Lists!  -->
    <datalist id="buildingList">
        <option value="ARTS 1 - Arts Building 1">
        <option value="ARTS 2 - Arts Building 2">
        <option value="BDS - Blackdale Building">
        <option value="C.HALL - Congregation Hall">
        <option value="MUS - Music Centre">
        <option value="DRA - Drama Studio">
        <option value="ECB - Edith Cavell Building">
        <option value="EFRY - Elizabeth Fry Building">
        <option value="EH - Earlham Hall">
        <option value="ITCS - Information Technology and Computing Services">
        <option value="JSC - Julian Study Centre">
        <option value="LIB - The Library">
        <option value="LSB - Lawrence Stenhouse Building">
        <option value="LT - Lecture Theatre Block">
        <option value="NEWSCI - New Science Building">
        <option value="QUEENS - Queens Building">
        <option value="REG - The Registry and Council Chamber">
        <option value="SP - Sportspark">
        <option value="TEC - The Enterprise Centre">
        <option value="TPSC - Thomas Paine Study Centre">
        <option value="UH - Union House">
        <option value="ZICER - Zuckerman Institute for Connective Environmental Research">
        <option value="CCEN - Careers Centre">
        <option value="SCVA - Sainsbury Centre for Visual Arts">
    </datalist>

    <datalist id="roomList"></datalist>

    <datalist id="statusList">
        <option value="Low Priority">
        <option value="Medium Priority">
        <option value="High Priority">
        <option value="Complete">
        <option value="Unassigned">
    </datalist>

    <datalist id="typeList">
        <option value="Furniture">
        <option value="Electrical">
        <option value="Plumbing">
        <option value="Structural">
        <option value="Lighting">
        <option value="Desktop (including peripherals)">
        <option value="Other (please specify)">
    </datalist>
</body>
</html>